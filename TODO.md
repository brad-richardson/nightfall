# Nightfall Build Plan

## Code Review Follow-ups
- [ ] Prevent rust spread lost updates (transaction or update-in-DB strategy).
- [ ] Guard task spawn with locking to avoid duplicate degraded-road tasks.
- [ ] Clean up SSE listeners and add reconnect handling/backpressure strategy.

## Security & Abuse Protection (Week 4-5)
- [ ] Re-enable CORS with explicit allowlist + tests once deployment targets are stable.

## Future Immersion & Polish (Post-MVP)
- [ ] Map Performance: Implement clustering or advanced MapLibre styling for high feature density.
- [ ] Soundscape: Add dynamic ambient audio that shifts with the day/night cycle.
- [ ] Real-time Feedback: Implement optimistic UI and animations (e.g., framer-motion) for user actions.
- [ ] Onboarding: Create a "How to Play" overlay for first-time users explaining mechanics.
