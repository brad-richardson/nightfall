# Nightfall Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains secrets!

# =============================================================================
# API Configuration
# =============================================================================

# Application version (auto-set in production)
APP_VERSION=dev

# Server host and port
HOST=0.0.0.0
PORT=3001

# Node environment (development | production | test)
NODE_ENV=development

# CORS allowed origins (comma-separated)
# In development: Leave unset to allow all origins
# In production: Set to your frontend domain(s)
# Example: https://example.com,https://staging.example.com
# ALLOWED_ORIGINS=

# Logging level (debug | info | warn | error | silent)
LOG_LEVEL=info

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database?sslmode=disable
# IMPORTANT: Use secrets management in production (Fly secrets, env vars, etc.)
# DO NOT hardcode production credentials here!
DATABASE_URL=postgresql://nightfall:nightfall@localhost:5432/nightfall?sslmode=disable

# =============================================================================
# Ticker Configuration
# =============================================================================

# How often the ticker runs (milliseconds)
TICK_INTERVAL_MS=10000

# PostgreSQL advisory lock ID for distributed ticker coordination
TICK_LOCK_ID=424242

# Base rust spread rate per tick (0.002 = 0.2%)
RUST_SPREAD_BASE=0.002

# Cleanup interval (milliseconds) - how often to clean old data
CLEANUP_INTERVAL_MS=3600000

# How many days to keep completed tasks and old feed items
CLEANUP_RETENTION_DAYS=7

# How many days to keep resource transfer records
CLEANUP_TRANSFER_RETENTION_DAYS=1

# =============================================================================
# Resource Transfer Animation
# =============================================================================

# Travel speed (meters per second)
RESOURCE_TRAVEL_MPS=50

# Min/max travel time (seconds)
RESOURCE_TRAVEL_MIN_S=5
RESOURCE_TRAVEL_MAX_S=30

# Distance multiplier for travel time calculation
RESOURCE_DISTANCE_MULTIPLIER=1.0

# How often to check resource table for new transfers (milliseconds)
RESOURCE_TABLE_CHECK_INTERVAL_MS=2000

# =============================================================================
# Deployment Secrets (Fly.io)
# =============================================================================
# These should be set via: flyctl secrets set VARIABLE_NAME=value
# DO NOT set them in this file for production!

# DATABASE_URL - Production database connection string
# ADMIN_SECRET - Optional admin authentication secret
# JWT_SECRET - Optional JWT signing secret
